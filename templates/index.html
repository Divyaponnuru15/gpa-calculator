<!DOCTYPE html>
<html>
<head>
    <title>GPA CALCULATOR </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <style>
        
/* Body styling */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Center headings */
h1, h2 {
    text-align: center;
    width: 100%;
}

/* Responsive form */
form {
    width: 100%;
    max-width: 500px; /* keeps form narrow on laptops */
    display: flex;
    flex-direction: column;
}

input[type="number"],
input[type="text"],
button {
    width: 100%;
    padding: 10px;
    margin: 5px 0 15px 0;
    box-sizing: border-box;
    font-size: 16px;
}

/* Button styling */
button {
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

button:hover {
    background-color: #45a049;
}

/* Responsive table */
table {
    width: 100%;
    max-width: 500px;
    border-collapse: collapse;
    margin-top: 20px;
}

table, th, td {
    border: 1px solid #333;
    text-align: center;
    padding: 8px;
}

/* Responsive GIF */
.cat-gif {
    display: block;
    margin: 20px auto;
    width: 20vw;       /* width relative to viewport */
    max-width: 150px;  /* max width on large screens */
    min-width: 80px;   /* min width on small screens */
    height: auto;
}


    </style>


    <script>
        function generateSemesters() {
            let total = document.getElementById("total_sem").value;
            let container = document.getElementById("semester_inputs");
            container.innerHTML = "";

            for (let i = 1; i <= total; i++) {
                container.innerHTML += `
                    <h3>Semester ${i}</h3>
                    Theory Grades (comma separated):
                    <input type="text" name="theory_sem${i}" placeholder="S,A,B" required><br><br>

                    Practical Grades (comma separated):
                    <input type="text" name="practical_sem${i}" placeholder="A,B" required><br><br>
                `;
            }
        }
    </script>
</head>

<body>

<h1> GPA Calculator</h1>

<form method="POST">
    Number of Semesters:
    <input type="number" id="total_sem" name="total_sem" min="1" required
           onchange="generateSemesters()">
    <br><br>

    <div id="semester_inputs"></div>

    <button type="submit">Calculate GPA</button>
</form>

{% if gpa_list %}
    <h2 class="result-title">Results</h2>


    <table border="1" cellpadding="5">
        <tr>
          <th>Semester</th>
            <th>GPA</th>
        </tr>

        {% for gpa in gpa_list %}
        <tr>
            <td>Sem {{ loop.index }}</td>
            <td>{{ gpa }}</td>
        </tr>
        {% endfor %}

        <tr>
            <td><b>Final CGPA</b></td>
            <td><b>{{ cgpa }}</b></td>
        </tr>
    </table>
    <img src="{{ url_for('static', filename='cat.gif') }}" class="cat-gif">


{% endif %}

</body>
</html>
